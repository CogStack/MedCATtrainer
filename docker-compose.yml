version: '3.4'

services:
  cattrainer:
    build:
        network: host
        context: ./webapp
    command: python /webapp/manage.py runserver 0.0.0.0:8000
    volumes:
      - ./data:/data
      - ./webapp/trainerapp:/webapp/trainerapp
      - ./models:/models
      - db-volume:/webapp/db.sqlite3
    ports:
      - "8001:8000"
    env_file:
            - .env
